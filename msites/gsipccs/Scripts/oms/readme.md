# 原神旮旯给木 剧本编写教程
原神旮旯给木的剧本演出通过读取特定格式的JSON文件实现。  
参照以往流汗黄豆百科的经验，出于众所周知的原因，作者提供了把TXT文本文件转换为对应的特定格式的JSON文件的方式以供剧本演出。这里提供一些格式上的参考和帮助。  
（具体怎么实现的，JSON是什么，我具体弄的什么格式不需要了解）  
> 提前声明：依旧要把TXT文件发给我进行转换并放到网站上。既然放到了网站上，目前没有对于其他人的作品的公开和私密的分区所以默认是公开的，需要知道，别人能看见。当然，这个网站目前也没什么人看，都是作者认识的人，同学、网友等。访客也都是用户罢，所以没什么。（理论上应该不会有路人找到这里吧，毕竟搜索引擎直接搜是不会搜到的只能通过网址进入，我目前也没在公开区域大肆宣传）
## 基本操作
这是一段剧本文本文件的示例。（文件形式：`*.txt`即可）  
> 切换场景：璃月港玉京台  
> 切换时间：白天  
> 钟离：不错的提议。可惜……  
> 派蒙：可惜什么？  
> 钟离：可惜忘了。  

如上所示，每一项（一个对话内容或者一个操作）都按照换行分隔（一项占一行），并且用冒号分隔**角色名或者操作名**和**内容**。  
### 可能的小Q&A（大问题另外讨论）  

- **内容里也有冒号怎么办？**  
按照第一个冒号进行分割。
- **如果一行根本没有冒号怎么办？**  
按照**角色名或操作名**处理，而**内容**会显示`undefined`。  
- **没有按照预期地分割？**  
冒号需要是全角冒号“：”（一般和一个汉字同样宽，所以是一个字符也会在右边体现一些间隔；不和汉字同宽或者间隔左右都有、冒号在字符宽度的中间也只是字体可能的不同），你可能输入了半角冒号“:”或者直接成分号了（“；”或“;”，都成分号了全半角也无济于事了）
  
## 操作名
除了角色对话，还存在别的效果，便是操作。  
目前包括：  
- 切换场景
- 切换时间
- 黑屏  

后续可能会添加更多功能。下面逐一介绍现有的：
### 切换场景&切换时间
**每个剧本开头都必须设置初始的场景和时间！！！**  
从场景库内选择场景并切换，配合设置时间使用，结合设置的场景和时间，就能在实际演出中使用对应时间的场景的背景图。  
没说一定要一起设置，在初始化之后可以根据需要，只设置时间而场景不变，反之亦然。
场景库可以对照场景对照表。
时间可以设置为以下四个：（顿号分隔允许不同叫法：只有下列这些叫法）  
- 早晨、日出
- 白天、中午
- 傍晚、日落
- 晚上、夜晚  

场景名也允许一些别称，见场景对照表。
> 关于场景库：本人实地截图，所以构图和实际的大小和人物立绘的大小适配度不一定合适，反正看我的水平怎样。  
> 信息：PC端截的，屏幕分辨率1920px*1080px（1080p），图像也便如此。主要适配寻常的电脑屏幕。画质较高，具体画质设置数据已无从考查，反正比较好。  
> 时间：拍摄时调的时间有的时候不太一样，并且前后期的主要偏向也有不同。大致：早晨6:00、白天12:00、傍晚18:00、晚上24:00。少数情况下也有白天八九点就拍了，夜晚晚上的八九点就拍了或者凌晨三四点才拍的情况，但影响不会特别明显。

### 黑屏
就是屏幕黑掉，只在中间显示白字（即给定内容），可以像正常对话一样点继续就回归正常了
### 角色名
**角色名不在已有角色库里怎么办？角色名打错字了怎么办？**  
> 角色库：作者收录了所有自机角色（可能版本落后了，后续会增补，以首页公告和对照页面为准），包括名字和立绘。一般角色名在角色库内才能正常显示立绘。后续会增加识别简写或者别称的功能。  
> 由于其目的是找到立绘，所以明明不是一个东西，但像**雷电影**可以识别为**雷电将军**的别称而使用雷电将军的立绘（不然没立绘了）  

- 如果能被识别为角色名的别称或简写，就没事。  
（但是虽然oll可以识别为欧洛伦，1f可以识别为伊法，奶奶可以识别为茜特菈莉，但是不建议用这样的太过简略的简写，正式一点好）
（什么样的简写推荐？如稻妻角色名字普遍较长，四个字及以上的可以不写姓氏部分，比如珊瑚宫心海写为心海，枫原万叶写为万叶。例外：九条裟罗个人打算简写为九条）
- 如果真的不在角色库里或者真的打错字了，并且不是操作名，角色名会照样显示，但立绘不会显示。  
### 其他
- 建议在对话内容（以及黑屏文字）中完整使用标点符号。  
- 时间变化自己把控，觉得到时间切换时间了就切。切场景也要考虑赶路时间，除非你打算使用传送锚点这一设定。
- **（标斜体的看不懂可以略过）**_特殊字符我自有处理，并且因此不要尝试作为用户在TXT内使用转义字符。（如：输入`&nbsp;`实际上被转换为`&amp;nbsp;`然后演出则依旧显示为`&nbsp;`而非一个空格）（既是不用也是不要，也存在其他转义字符并未被我额外处理，但没必要使用，因为我没处理的也都不影响显示，并且`&`就是会转换成`&amp;`所以也没用）_
- _若知道怎么设置并且可以设置，编码请使用UTF-8。不行的话我来帮着弄一下。_
- 其他问题反馈作者。如果是作者帮你转换时遇到问题会自己尝试解决，因此解决时可能看到你的剧本内容（会通知）。